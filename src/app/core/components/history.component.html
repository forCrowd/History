<div class="m-16">
  <h1>
    Timeline
  </h1>
</div>
<div class="m-16">
  <form #historyForm="ngForm" autocomplete="off">
    <div class="m-16">
      <mat-form-field>
        <input matInput id="entry" name="entry" type="text" placeholder="Write something / write timeline name" [(ngModel)]="entry" class="form-control" required />
      </mat-form-field>
      <button mat-flat-button (click)="createHistroyContent()" [disabled]="historyForm.form.invalid || isBusy">
        Submit
      </button>
      <button mat-flat-button class="other" *ngIf="selectedElementCell !== null ||Â changeElementName" (click)="cancelEditing()" color="warn" [disabled]="historyForm.form.invalid || isBusy">
        Cancel editing!
      </button>
      <button mat-flat-button class="other" *ngIf="!changeElementName" (click)="createNewHistroy()" [disabled]="historyForm.form.invalid || isBusy">
        Create New History
      </button>
    </div>
  </form>
<br>
  <mat-tab-group *ngIf="project !== null" (selectedIndexChange)="selectTimeline($event)" [selectedIndex]="selectedTab.value">
    <mat-tab *ngFor="let history of project.ElementSet" label="{{ history.Name }}">

      <div *ngIf="selectedElementCellSet !== null" class="m-16 mb-150">
        <ul class="timeline">
          <li class="tl-header">
            <div class="btn white"><a (click)="editTimelineHeader(history)">{{ history.Name }}</a></div>
          </li>
          <li class="tl-item" *ngFor="let cell of selectedElementCellSet">
            <div class="tl-wrap b-primary">
              <span class="tl-date text-muted">{{ cell.CreatedOn | amTimeAgo }}</span>
              <div (click)="edit(cell)" class="tl-content box-color text-color box-shadow p-a-sm">
                <span class="arrow b-white left pull-top"></span>
                <i class="fa fa-times" (click)="removeHistoryItem(cell.ElementItem)" aria-hidden="true"></i>
                {{ cell.StringValue }}
              </div>
            </div>
          </li>

          <li class="tl-header">
            <div class="btn btn-sm white btn-rounded">History Timeline</div>
          </li>
        </ul>
      </div>

    </mat-tab>
  </mat-tab-group>

</div>

